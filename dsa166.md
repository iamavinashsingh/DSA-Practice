# 166. Fraction to Recurring Decimal
Given two integers representing the numerator and denominator of a fraction, return the fraction in string format.

If the fractional part is repeating, enclose the repeating part in parentheses.

If multiple answers are possible, return any of them.

It is guaranteed that the length of the answer string is less than 104 for all the given inputs.

 

Example 1:

Input: numerator = 1, denominator = 2
Output: "0.5"
Example 2:

Input: numerator = 2, denominator = 1
Output: "2"
Example 3:

Input: numerator = 4, denominator = 333
Output: "0.(012)"
 

Constraints:

-231 <= numerator, denominator <= 231 - 1
denominator != 0

---
1/
Weâ€™re given a fraction numerator/denominator and need to return its decimal form.
But thereâ€™s a catch ðŸ‘€ â€¦ if the decimal part repeats, we must enclose it in ()

Example:

1/2 â†’ 0.5

2/1 â†’ 2

4/333 â†’ 0.(012)

2/
ðŸ‘‰ The key challenges:

Handling negative numbers

Dealing with remainders carefully

Detecting cycles in the fractional part (the repeating sequence)

This isnâ€™t just division â€” itâ€™s about spotting when remainders repeat. ðŸ”„

3/
âœ¨ Intuition:
Whenever you do long division, the moment a remainder repeats â†’ the digits after that point will also repeat.

So we track each remainderâ€™s position in the decimal string.
The first time it repeats â†’ wrap the digits in parentheses.

4/
âš¡ Steps to solve:

Handle sign & convert to absolute values

Do integer division â†’ this is the whole part

Start processing remainder

Keep a map: remainder â†’ position in result

If remainder repeats â†’ insert ( at stored position and add ) at the end

5/
ðŸ”¥ Example Walkthrough: 4/333

Whole part: 0.

Long division â†’ remainders cycle after a few steps

Once remainder repeats â†’ insert ( at first occurrence

Final result: 0.(012)

6/
Thatâ€™s it! This problem beautifully mixes:

Math intuition (long division)

Hashmap trick (tracking remainder positions)

String manipulation (inserting parentheses)

7/
Every time remainder-based questions pop up, remember:
â€œRepeating remainder = repeating pattern.â€
---
```cpp
class Solution {
public:
    string fractionToDecimal(int numerator, int denominator) {
        
        if (numerator == 0) return "0";
        string res;
        if ((numerator < 0) ^ (denominator < 0)) res.push_back('-');

        long long n = llabs((long long)numerator);
        long long d = llabs((long long)denominator);

        res += to_string(n / d);
        long long rem = n % d;
        if (rem == 0) return res;

        res.push_back('.');
        unordered_map<long long, int> seen;

        while (rem != 0) {
            if (seen.find(rem) != seen.end()) {
                int pos = seen[rem];
                res.insert(pos, "(");
                res.push_back(')');
                break;
            }
            seen[rem] = res.size();
            rem *= 10;
            int digit = rem / d;
            res.push_back(char('0' + digit));
            rem = rem % d;
        }
        return res;
    }
};

```
